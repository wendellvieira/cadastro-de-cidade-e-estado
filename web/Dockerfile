FROM node:12.8-alpine

WORKDIR /node-app

ARG WEB_INT_PORT

ARG WEB_SECRET
ENV VUE_APP_API_SECRET $WEB_SECRET

ARG API_URL
ENV VUE_APP_SERVER_URI $API_URL

COPY ./package.json ./

RUN npm install

COPY . .

EXPOSE $WEB_INT_PORT

CMD [ "npm", "run", "serve"]